<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
   <link rel="stylesheet" href="/medium-articles/libs/highlight/styles/github.min.css">
   
  <link rel="stylesheet" href="/medium-articles/css/franklin.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,400italic|Source+Code+Pro:400,700" type="text/css">
<link rel="stylesheet" href="/medium-articles/css/font-awesome.min.css">
<link rel="stylesheet" href="/medium-articles/css/celeste.min.css">
<link rel="stylesheet" href="/medium-articles/css/custom.css">

<link rel="icon" type="image/png" sizes="192x192" href="/medium-articles/assets/favicon.png">
<link rel="shortcut icon" href="/medium-articles/assets/favicon.ico">


   <title>Parte 2 - Manipulação textual</title>  
</head>
<body>
  <header>
<nav class="nav-main">
  <ul>
    <li class="logo"><a class="hvr-ripple-out" href="/medium-articles/">W</a></li>
    <li class="hvr-underline-reveal"><a href="/medium-articles/content/medium/">Medium Articles</a></li>
    <li class="hvr-underline-reveal"><a href="/medium-articles/content/transport-phenomena/">Transport Phenomena</a></li>
    <li class="hvr-underline-reveal"><a href="/medium-articles/content/julia-para-cientistas/">Julia para Cientistas</a></li>
  </ul>
</nav>
</header>


<!-- Content appended here -->
<div class="franklin-content">
<h1 id="parte_2_-_manipulação_textual"><a href="#parte_2_-_manipulação_textual" class="header-anchor">Parte 2 - Manipulação textual</a></h1>
<p>Uma habilidade frequentemente negligenciada pelo grande público de computação científica nos seus primeiros passos é a capacidade de manipulação textual. Não podemos esquecer que programas necessitam interfaces pelas quais alimentamos as condições do problema a ser solucionado e resultados são esperados ao fim da computação. Para problemas que tomam um tempo computacional importante, é extremamente útil ter mensagens de estado de progresso. Nessa seção introduzimos os primeiros elementos necessários para a manipulação textual em Julia.</p>
<p>Uma variável do tipo <code>String</code> declara-se com aspas duplas, como vimos inicialmente no programa <code>Hello, World&#33;</code>. Deve-se tomar cuidado em Julia pois caracteres individuais &#40;tipo <code>Char</code>&#41; tem um significado distinto de uma coleção de caracteres <code>String</code>.</p>
<p>Por exemplo, avaliando o tipo de <code>&#39;a&#39;</code> obtemos:</p>
<pre><code class="language-julia">typeof&#40;&#39;a&#39;&#41;</code></pre><pre><code class="plaintext code-output">Char</code></pre>
<h2 id="declaração_de_strings"><a href="#declaração_de_strings" class="header-anchor">Declaração de Strings</a></h2>
<p>Estudaremos caracteres mais tarde. Por enquanto nos interessamos por expressões como:</p>
<pre><code class="language-julia">text1 &#61; &quot;Olá, eu sou uma String&quot;

typeof&#40;text1&#41;</code></pre><pre><code class="plaintext code-output">String</code></pre>
<p>Eventualmente necessitamos utilizar aspas duplas no interior do texto. Neste caso, a primeira solução provida por Julia é utilizar três aspas duplas para a abertura e fechamento do texto. Observamos abaixo que o texto é transformado para adicionar uma barra invertida antes das aspas que estão no corpo do texto.</p>
<pre><code class="language-julia">text2 &#61; &quot;&quot;&quot;Eu sou uma String que pode incluir &quot;aspas duplas&quot;.&quot;&quot;&quot;</code></pre><pre><code class="plaintext code-output">"Eu sou uma String que pode incluir \"aspas duplas\"."</code></pre>
<p>Neste caso, Julia aplicou automaticamente um <em>caractere de escape</em> no símbolo a ser interpretado de maneira especial. Existem diversos casos aonde a aplicação manual pode ser útil, por exemplo quando entrando texto em UNICODE por códigos. No exemplo abaixo utilizamos a técnica manual com o texto precedente.</p>
<pre><code class="language-julia">text3 &#61; &quot;Eu sou uma String que pode incluir \&quot;aspas duplas\&quot;.&quot;</code></pre><pre><code class="plaintext code-output">"Eu sou uma String que pode incluir \"aspas duplas\"."</code></pre>
<p>Para averiguar o funcionamento correto, testamos de imprimir <code>text3</code> no terminal.</p>
<pre><code class="language-julia">println&#40;text3&#41;</code></pre><pre><code class="plaintext code-output">Eu sou uma String que pode incluir "aspas duplas".
</code></pre>
<p>O exemplo a seguir ilustra o uso do caracter de escape para representar UNICODE.</p>
<pre><code class="language-julia">pounds &#61; &quot;\U000A3&quot;</code></pre><pre><code class="plaintext code-output">"£"</code></pre>
<h2 id="interpolação_de_strings"><a href="#interpolação_de_strings" class="header-anchor">Interpolação de Strings</a></h2>
<p>Para gerar mensagens automáticas frequentemente dispomos de um texto que deve ter partes substituidas. Ilustramos abaixo o uso de um símbolo de dólar &#36; seguido de parêntesis com a variável de substituição para realizar o que chamamos de <em>interpolação textual</em>.</p>
<div class="note"><div class="title">⚠  Múltiplas variáveis em uma linha</div>
<div class="content">Observe aqui a introdução da declaração de múltiplas variáveis em uma linha.</div></div>
<pre><code class="language-julia">name, age &#61; &quot;Walter&quot;, 34
println&#40;&quot;Olá, &#36;&#40;name&#41;, você tem &#36;&#40;age&#41; anos&#33;&quot;&#41;</code></pre><pre><code class="plaintext code-output">Olá, Walter, você tem 34 anos!
</code></pre>
<div class="warning"><div class="title">⚠  Prática não recomendada</div>
<div class="content">Para nomes simples de variáveis e sem formatação explícita, o código a seguir também é valido, mas é pode ser considerado uma má prática de programação.</div></div>
<pre><code class="language-julia">println&#40;&quot;Olá, &#36;name, você tem &#36;age anos&#33;&quot;&#41;</code></pre><pre><code class="plaintext code-output">Olá, Walter, você tem 34 anos!
</code></pre>
<p>Em alguns casos, como na contagem de operações em um laço, podemos também realizar operações e avaliação de funções diretamente na <code>String</code> sendo interpolada.</p>
<pre><code class="language-julia">println&#40;&quot;Também é possível realizar operações, e.g 2³ &#61; &#36;&#40;2^3&#41;.&quot;&#41;</code></pre><pre><code class="plaintext code-output">Também é possível realizar operações, e.g 2³ = 8.
</code></pre>
<h2 id="formatação_de_números"><a href="#formatação_de_números" class="header-anchor">Formatação de números</a></h2>
<pre><code class="language-julia">using Printf

println&#40;@sprintf&#40;&quot;&#37;g&quot;, 12.0&#41;&#41;

println&#40;@sprintf&#40;&quot;&#37;.6f&quot;, 12.0&#41;&#41;

println&#40;@sprintf&#40;&quot;&#37;.6e&quot;, 12.0&#41;&#41;

println&#40;@sprintf&#40;&quot;&#37;15.8e &#37;15.8E&quot;, 12.0, 13&#41;&#41;

println&#40;@sprintf&#40;&quot;&#37;6d&quot;, 12.0&#41;&#41;

println&#40;@sprintf&#40;&quot;&#37;06d&quot;, 12&#41;&#41;</code></pre><pre><code class="plaintext code-output">12
12.000000
1.200000e+01
 1.20000000e+01  1.30000000E+01
    12
000012
</code></pre>
<h2 id="concatenação_de_strings"><a href="#concatenação_de_strings" class="header-anchor">Concatenação de Strings</a></h2>
<p>Na maioria das linguagens de programação a concatenação textual se faz com o símbolo de adição <code>&#43;</code>. Data suas origens já voltadas para a computação numérica, Julia adota para esta finalidade o asterísco <code>*</code> utilizado para multiplicação, o que se deve à sua utilização em álgebra abstrata para indicar operações não-comutativas, como clarificado no <a href="https://docs.julialang.org/en/v1/manual/strings/#man-concatenation">manual</a>.</p>
<pre><code class="language-julia">bark &#61; &quot;Au&#33;&quot;

bark * bark * bark</code></pre><pre><code class="plaintext code-output">"Au!Au!Au!"</code></pre>
<p>O circunflexo <code>^</code> utilizado para a exponenciação também pode ser utilizado para uma repetição múltipla de uma data <code>String</code>.</p>
<pre><code class="language-julia">bark^10</code></pre><pre><code class="plaintext code-output">"Au!Au!Au!Au!Au!Au!Au!Au!Au!Au!"</code></pre>
<p>Finalmente o construtor <code>string&#40;&#41;</code> permite de contactenar não somente <code>Strings</code>, mas simultanêamente <code>Strings</code> e objetos que suportam conversão textual.</p>
<pre><code class="language-julia">string&#40;&quot;Unido um número &quot;, 10, &quot; ou &quot;, 12.0, &quot; a outro &quot;, &quot;texto&#33;&quot;&#41;</code></pre><pre><code class="plaintext code-output">"Unido um número 10 ou 12.0 a outro texto!"</code></pre>
<h2 id="funções_básicas"><a href="#funções_básicas" class="header-anchor">Funções básicas</a></h2>
<p>Diversos outros <a href="https://docs.julialang.org/en/v1/base/strings/">métodos</a> são disponíveis para Strings. Dado o suporte UNICODE de Julia, devemos enfatizar com o uso de <code>length&#40;&#41;</code> e <code>sizeof&#40;&#41;</code> que o comprimento textual de uma <code>String</code> pode não corresponder ao seu tamanho em <em>bytes</em>, o que pode levar ao usuário desavisado a erros numa tentativa de acesso à caracteres por índices.</p>
<pre><code class="language-julia">length&#40;&quot;∀&quot;&#41;, sizeof&#40;&quot;∀&quot;&#41;</code></pre><pre><code class="plaintext code-output">(1, 3)</code></pre>
<p>Uma função que é bastante útil é <code>startswith&#40;&#41;</code> que permite verificar se uma <code>String</code> inicia por um outro bloco de caracteres visado. Testes mais complexos podem ser feitos com <a href="https://docs.julialang.org/en/v1/base/strings/#Base.Regex">expressões regulares</a>, como veremos mais tarde.</p>
<pre><code class="language-julia">startswith&#40;&quot;align&quot;, &quot;al&quot;&#41;</code></pre><pre><code class="plaintext code-output">true</code></pre>
<p>Isso é tudo para esta sessão de estudo&#33; Até a próxima&#33;</p>
<div class="page-foot">
    <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> Walter Dal'Maz Silva -
    Built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a>.
</div>
</div><!-- CONTENT ENDS HERE -->
    
    
        <script src="/medium-articles/libs/highlight/highlight.min.js"></script>
<script>hljs.highlightAll();hljs.configure({tabReplace: '    '});</script>

    
  </body>
</html>
