<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
   <link rel="stylesheet" href="/medium-articles/libs/highlight/styles/github.min.css">
   
  <link rel="stylesheet" href="/medium-articles/css/franklin.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,400italic|Source+Code+Pro:400,700" type="text/css">
<link rel="stylesheet" href="/medium-articles/css/font-awesome.min.css">
<link rel="stylesheet" href="/medium-articles/css/celeste.min.css">
<link rel="stylesheet" href="/medium-articles/css/custom.css">

<link rel="icon" type="image/png" sizes="192x192" href="/medium-articles/assets/favicon.png">
<link rel="shortcut icon" href="/medium-articles/assets/favicon.ico">


   <title>Cloud types</title>  
</head>
<body>
  <header>
<nav class="nav-main">
  <ul>
    <li class="logo"><a class="hvr-ripple-out" href="/medium-articles/">W</a></li>
    <li class="hvr-underline-reveal"><a href="/medium-articles/content/medium/">Medium Articles</a></li>
    <li class="hvr-underline-reveal"><a href="/medium-articles/content/transport-phenomena/">Transport Phenomena</a></li>
    <li class="hvr-underline-reveal"><a href="/medium-articles/content/julia-para-cientistas/">Julia para Cientistas</a></li>
    <li class="hvr-underline-reveal"><a href="/medium-articles/content/engenharia-de-reatores/">Engenharia de Reatores</a></li>
    <li class="hvr-underline-reveal"><a href="/medium-articles/content/bookmarks/">Links</a></li>
  </ul>
</nav>
</header>


<!-- Content appended here -->
<div class="franklin-content"><p>In OpenFOAM, <em>clouds</em> designate the injection of a secondary phase, generally solid particles or droplets, in a primary continuous carrier phase. The dictionary <code>cloudProperties</code> is identified in tutorials related to the following solver modules:</p>
<ol>
<li><p><a href="../incompressibleDenseParticleFluid/index"><code>incompressibleDenseParticleFluid</code></a></p>
</li>
<li><p><code>incompressibleFluid</code></p>
</li>
<li><p><a href="../multicomponentFluid/index"><code>multicomponentFluid</code></a></p>
</li>
<li><p><code>multiRegion</code></p>
</li>
</ol>
<p>The default version of the dictionary provided <a href="https://github.com/OpenFOAM/OpenFOAM-11/blob/master/etc/caseDicts/solvers/lagrangian/cloudProperties">here</a> is not yet documented as of OpenFOAM v11 and does not contain any solver specific configurations, so the users must refer to the tutorial cases for setting up their studies.  A post-processing particle tracking function associated to the dictionary is provided <a href="https://github.com/OpenFOAM/OpenFOAM-11/blob/master/etc/caseDicts/postProcessing/solvers/particles">here &#40;untested&#41;</a>.</p>
<h2 id="cloud_types"><a href="#cloud_types" class="header-anchor">Cloud types</a></h2>
<table><tr><th align="right">Cloud</th><th align="right">Applications</th></tr><tr><td align="right"><a href="">MPPICCloud</a></td><td align="right"></td></tr><tr><td align="right"><a href="">reactingMultiphaseCloud</a></td><td align="right"></td></tr><tr><td align="right"><a href="">sprayCloud</a></td><td align="right"></td></tr><tr><td align="right"></td><td align="right"></td></tr></table>
<h2 id="guidelines"><a href="#guidelines" class="header-anchor">Guidelines</a></h2>
<blockquote>
<p><strong>NOTE:</strong> the text that follows was written when creating cases for <code>incompressibleDenseParticleFluid</code>. Care must be taken when following the recommendations below since they are &#40;for now&#41; solver-specific. This will be updated as I take notes while building/testing cases for other solvers using clouds.</p>
</blockquote>
<p>Most default values in <code>solution</code> dictionary should be fine for typical fluid-particle applications, but for phase interaction it is important to configure <code>coupled</code> as <code>true</code> so that drag forces are applied to the particles and conversely, particles disturb the fluid. </p>
<p>We must also turn on <code>cellValueSourceCorrection</code>, which will correct cell values using latest transfer information. These elements as given in the following block &#40;you can check the full dictionary in the official OpenFOAM tutorials for other details&#41;.</p>
<pre><code class="language-C">solution
&#123;
	coupled                   true;
	transient                 yes;
	cellValueSourceCorrection on;
	maxCo                     0.7;

	...
&#125;</code></pre>
<p>When using <code>collidingCloud</code> we enabled the use of <code>collisionModel pairCollision</code> and material properties can be set in detail in sub-dictionary <code>constantProperties</code>. Notice that this is computationally expensive, we will come back to this topic in specific examples using it.</p>
<p>On the other hand, <code>MPPICCloud</code> makes use only of <code>patchInteractionModel localInteraction</code> for interaction with the environment and collisions between particles are not taken into account &#40;that is not completely true if you consider the packing effects that can be enabled as <em>collisions</em>&#41;. Again, it is better to go deeper in the case studies.</p>
<p>The main models for setting up a particle simulation in <code>constant/cloudProperties</code>  are:</p>
<ul>
<li><p><a href="https://cpp.openfoam.org/v11/classFoam_1_1InjectionModel.html"><code>InjectionModel</code></a></p>
</li>
<li><p><a href="https://cpp.openfoam.org/v11/classFoam_1_1ParticleForce.html"><code>ParticleForce</code></a></p>
</li>
</ul>
<p>In the case of <code>MPPICCloud</code> focus is given in the following:</p>
<ul>
<li><p><a href="https://cpp.openfoam.org/v11/classFoam_1_1DampingModel.html"><code>DampingModel</code></a></p>
</li>
<li><p><a href="https://cpp.openfoam.org/v11/classFoam_1_1IsotropyModel.html"><code>IsotropyModel</code></a></p>
</li>
<li><p><a href="https://cpp.openfoam.org/v11/classFoam_1_1PackingModel.html"><code>PackingModel</code></a></p>
</li>
<li><p><a href="https://cpp.openfoam.org/v11/classFoam_1_1PatchInteractionModel.html"><code>PatchInteractionModel</code></a></p>
</li>
</ul>
<p>In some particular situations the following models might be required:</p>
<ul>
<li><p><a href="https://cpp.openfoam.org/v11/classFoam_1_1DispersionModel.html"><code>DispersionModel</code></a></p>
</li>
<li><p><a href="https://cpp.openfoam.org/v11/classFoam_1_1HeatTransferModel.html"><code>HeatTransferModel</code></a></p>
</li>
<li><p><a href="https://cpp.openfoam.org/v11/classFoam_1_1StochasticCollisionModel.html"><code>StochasticCollisionModel</code></a></p>
</li>
<li><p><a href="https://cpp.openfoam.org/v11/classFoam_1_1SurfaceFilmModel.html"><code>SurfaceFilmModel</code></a></p>
</li>
</ul>
<p>Notice that when dealing with <code>incompressibleDenseParticleFluid</code> the main <code>ParticleForce</code> models other than <code>gravity</code> are inherited by <a href="https://cpp.openfoam.org/v11/classFoam_1_1DenseDragForce.html"><code>DenseDragForce</code></a>.</p>
<p>When working with <code>collidingCloud</code> the following is also needed:</p>
<ul>
<li><p><a href="https://cpp.openfoam.org/v11/classFoam_1_1CollisionModel.html"><code>CollisionModel</code></a></p>
</li>
</ul>
<h2 id="tips_and_reminders"><a href="#tips_and_reminders" class="header-anchor">Tips and reminders</a></h2>
<ul>
<li><p>It is a good idea to set <code>SOI</code> to a value higher than zero &#40;dimensioned to match the global time-scale of the problem&#41; so that flow is fully developed before particles arrive.</p>
</li>
<li><p>If it makes sense to do so, make parameter <code>U0</code> in the entries of <code>injectionModels</code> of <code>cloudProperties</code> identical to the velocity specified for the corresponding path. In most cases this applies, except when modeling a particle jet that originates from another source <em>outside</em> of the computational domain.</p>
</li>
<li><p>When working with a 2-D extruded mesh &#40;1-cell in thickness&#41;, the mass flow rate must be scaled by the width of the domain to keep consistency with what would be expected in 3-D.</p>
</li>
<li><p>After the start of injection, a <code>patchInteraction</code> is <a href="https://cpp.openfoam.org/v11/classFoam_1_1NoInteraction.html#details">required</a> otherwise the dummy class representing the setting <code>none</code> will generate an error.</p>
</li>
</ul>
<h2 id="verification"><a href="#verification" class="header-anchor">Verification</a></h2>
<p>Using the base package provided <a href="https://github.com/wallytutor/OpenFOAM">here</a> we can verify the computation of number of parcels per second of sample case <code>injectionChannel</code>. Notice that the value of <code>mdot</code> has been reversed engineered so that it matches the expected value.</p>
<pre><code class="language-julia">import OpenFOAM as OF

OF.parcels_per_second&#40;; mdot &#61; 0.2, rhop &#61; 1000.0, diam &#61; 650.0e-06, nParticle &#61; 1&#41;
# Output: 1390885</code></pre>
<div class="page-foot">
    <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> Walter Dal'Maz Silva -
    Built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a>.
</div>
</div><!-- CONTENT ENDS HERE -->
    
    
        <script src="/medium-articles/libs/highlight/highlight.min.js"></script>
<script>hljs.highlightAll();hljs.configure({tabReplace: '    '});</script>

    
  </body>
</html>
